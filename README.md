# Spring_01  
  
  
  
  
  
mvc2  
지금까지는 동기통신방식으로 개발 비동기도 가능  
클라이언트 요청 서버의 처리 (mvc패턴)  
서블릿으로 컨트롤러 정의 했고 코딩  
model : dao ,dto  
view : html ,css,js,jsp(기본문법사용 ,el표기법,jstl)  
  
회원 전체보기 기능을 구현하고있다.  
  
  
클라이언트 요청?  
컨트롤러 처리?  
          >파라미터 받을것인가?
          >디비에서 자료를 가져와야 하는가?
          >가져온 자료를 뷰에게 전달해야 하는가?
          >전달하는 자료는 어떤 자료형인가? 원시타입,객체 ,리스트,map  
뷰에서? 클라이언트에게 제공할 화면을 정의하고 만든다.  
      >기본 html,css로 정적 문서 구현
      >컨트롤러에게 받은 자료를 출력 (el,jstl)
      >클라이언트에게 js jquery 등으로 동적인 문서를 제공한다
                      -ajax(비동기통신)  
  
  
  
  
어노테이션 @로 시작하는것 : 쉽게 말해 택배 파손주의 스티커를 붙여서 택배기사님에게 알려주는것 .  
어노테이션은 소스를 컴파일 하면 컴파일러에게 이런 역활을 하는 클래스다,기능이다. 알려주면  
컴파일러는 이 어노테이션을 보고 해당 포지션에 배치를 시킨다.  
또는 원하는 기능을 해결해준다.    
![image](https://user-images.githubusercontent.com/80766275/203451525-2da33069-8c9e-4624-933a-5f8e66be1b1b.png)  
ioc : 서블릿이 어노테이션 보고 객체를 생성함..  
  
  
  
*이해의 기준 : 클라이언트의 요청,,클라이언트가 동기방식으로 요청할것인가 비동기방식으로 요청할것인가?  
*동기와 비동기는 웹에서만 사용되는것X 통신에 대한 이론  
   
   
동기방식 vs 비동기 방식(jquery 기능중 ajax 많이 씀)
동기방식: 요청합.요청 기다림 .응답이 오면 이때 작업을 함. 응답이 오지 않으면 아무것도 안하고 기다립니다.  
포인트 - 직렬(순차적)으로 처리  
특징이 정확한 결과를 예측할 수 있다 ..  
장점 - 설계가 편함(동시처리 안해서)  
단점 - 앞 작업 결과가 있을때까지 아무것도 모타고 대기  
일상생활 - 번호표 뽑고 은행업무 처리(직원은 한명)  
  
비동기방식:무조건 요청한다. 응답 기다리지 않는다.요청하고 기다리지 않고 다른 작업을 합.응답이 안와도 상관 없음.  
포인트- 병렬적(동시에) 처리  
장점 - 자원낭비가 덜하다 (동시에 업무를 여러개 시킨다)  
단점- 설계가 동기보다 복잡하다..  
일상생활 - 햄버거 가게 ..직원 여러명이 동시에 업무를 처리한다..
  
  
게시글 쓰기는 동기방식 .글을 모두 작성 후 서버에 전송하고 등록되었다는 결과의 응답을 받아 화면이 전체 리스트 보기로 바뀜  
: 만약 응답없을시 화면 바뀌지 않음  
  
입력하면서 작성자가 등록된 작성자인지 서버와의 통신을 통해 알아보는 기능을 동기방식으로 할 수도 있고 비동기 방식으로 할 수 있다 ..  
만약 동기방식이라면 글쓰기 동작의 순서가 등록된 작성자 확인이 끝나야만 글 등록이 가능  
등록된 작성자 확인이 끝나면 화면 전체가 새로고침이 된다.  
  
비동기 방식으로 한다면 글 등록 여부와 상관없이 등록된 작성자 확인의 동작이 요청될 수 있다. 즉 서버와 통신하는 별도의 작업이 병렬적으로 생성된다.  
본 작업은 글쓰기이고 병렬작업으로 등록된 작성자 기능이 설계됨..  
화면 전체가 새로고침을 하지 않고 HTML요소만 지정하여 변경할 수 있다.  
버튼 누르면 유효성 체크하는 식의 예를 들 수 있다.  
  
선생님 비동기 방식으로 등록된 작성자 확인 기능이 있는데 실제로 이 기능을 먼저 하지않으면 글 등록할때 작성자 등록여부 확인하세요 라고 경고창이 뜬다면  
이건 동기방식이 아닐까요?  
>>글 등록시 등록된 작성자 확인 기능이 동기방식으로 이루어지는것이 아니라 
  글 등록시 작업이 이루어졌는지만 확인하는 절차가 있을 가능성이 높다  
  
두 동작을 동기방식으로 처리 : 등록여부 확인 동기방식으로 처리하고 글 등록을 동기방식으로 처리하라  
두 동작을 동기방식과 비동기 방식으로 처리: 등록여부는 비동기 방식으로 처리해라 병렬적으로 처리해라. 단 글 등록시 처리가 되었는지만 확인해라..  
* 사용자가 사용할때는 같아보이지만 내부적인 동작의 설계는 다르다..내부동작 이해할 필요 있음  
왜냐면 비동기 방식이 아이디 중복체크,등록여부 확인에서만 사용되는게 아니기 때문  
우리의 목적은 동기방식과 비동기방식의 이해가 우선이고 이를 활용하는 설계적 측면  
  
인스타그램 좋아요 댓글 실시간 업글 글 전체보기에서 제목옆에 댓글수 보여주기같은것 =비동기 방식으로 구현  
  
**화면의 로딩이 시간이 걸릴경우 동기보다 비동기가 나을 수 있다.  
동기방식이라면 화면이 보여주는 순서가 같을것이고 비동기라면 응답이 오는 순서대로 화면에 출력되니 매번 다를 수 있다  
  
  
  
  
  
  
  
  
컨트롤러  
개발을 프레임 워크 기반에서 개발을 한다.운영은 프레임워크가 함.개발자는 기능을 정의해줌  
예전경험을 본다면  
고객관리 프로그램을 만들면 고객클래스 정의 dao ,dto 기능별로 만들었습니다 >>매니져 클래스도 만들었음  
                                                                      >>사용자 100명이 동시에 사용하는것도 고려해야함  
                                                                     프레임워크에서는 매니저클래스 역할을 해줌  
  
개발의 주체가 개발자가 아니라 프레임워크다 : ioc 라고 부른다. inversion of control  
di - dependency lnjection(의존성 주입) : 클래스의 의존관계를 별도의 설정파일에서 설정합니다.  
                                        클래스에서 의존하는 객체가 있을경우 객체를 직접 만들지 않고 외부에서 객체의 주소를 주입받는 방식입니다.  
                                        스프링에서는 클래스이 의존관계를 별도의 설정파일에서 설정하고 관리합니다.  
  
***컨테이너 : 스프링에서 설정된것에 의해 객체가 만들어지면 이 객체를 컨테이너에서 보관하고 소스에서 필요하면 주입받아서 사용한다***  
  
  
```  
class aaa{
    BBB b //비비비 객체가 필요
}  
  
class BBB{
    
}
```  
  
  
aaa클래스에서 b객체를 참조해야한다 (aaa클래스는 bbb클래스에 의존한다.  
즉 aaa에 선언된 b라는 변수는 객체가 아님니다. 참조변수입니다. 현재 이 참조변수는 객체의 주소가 없습니다.  
즉 aaa객체는 bbb객쳉에 의존하는데 실제 객체가 없습니다.  
여기서 문제 b참조 변수가 객체에 주소를 저장하게하는 방법은 3가지 정도가 있습니다.생각해보세요  
3가지 방법에 대한 특징을 이해하면 di를 이해할 수 있습니다.)  
  
1번째는 aaa라는 클래스가 직접 객체를 생성하는 방법  BBB b = new BBB();- 필요하면 내가만든다  
2번째 다른 클래스에서 BBB객체를 만들고 생성자로 주소를 전달해주는 경우-필요하면 달라고 한다-(스프링에서 사용 di라고 함)  
3번째 다른 클래스에서 BBB객체를 만들고 setter로 주소를 전달해주는경우-(스프링에서 사용 di라고 함)  
  
  
  
-------------------------------------------------------------------------  
# spring  
  
![image](https://user-images.githubusercontent.com/80766275/203472668-dc4893a6-fadf-41de-980e-16362bd274a4.png)
web.xml부터 시작하고 루트컨텍스트 읽고   
  
  
![image](https://user-images.githubusercontent.com/80766275/203473674-6dae4eee-3e88-4497-8ce2-f6830f569886.png)
  
![image](https://user-images.githubusercontent.com/80766275/203473734-0fa4ccf5-661f-460b-90a4-4a9a1de3558f.png)
확장자 이름 홈이고 뒤에 jsp생략되어있음  
  
리퀘스트 대신 모델.에드어트리뷰트 사용함  
리퀘스트메핑 클라이언트가 요청하는것  
  
  
컨트롤러만들고 뷰스에 뷰파일 만들기  
  
1.메이븐 디렉토리 구조 이해  
2.설정파일 구조 이해 web.xml > root-context.xml > servlet-context.xml  
3.mvc 설정 예제 이해 ..클라이언트에서 컨트롤러 요청처리 뷰 응답 까지의 순서  
4.클라이언트에서 파라미터 보내고 컨트롤러에서 받는법..  
  가. 변수 하나받기,객체로 받기,json받기  
  
  ![image](https://user-images.githubusercontent.com/80766275/203476384-41fe727b-2e6c-42f6-a9c0-219922e4da9e.png)
   서블릿으로 받는법  
  ![image](https://user-images.githubusercontent.com/80766275/203477277-4fd423cf-5cb1-4a7b-9688-4cb076a2596d.png)
  어노테이션으로 받는법  
    
    
   객체로 받기  
   
  
